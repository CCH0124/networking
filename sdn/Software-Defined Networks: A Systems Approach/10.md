本章節的核心觀點是，儘管 SDN 在網路虛擬化、SD-WAN 等領域已取得成功，但其真正的潛力在於實現傳統網路無法企及的新能力。本章節聚焦於兩大極具前景的新興方向：**可驗證網路 (Verifiable Networks)** 與 **軟體定義無線接取網路 (SD-RAN)**。

### 1. 核心主題一：可驗證網路 (Verifiable Networks)

網路在抵禦故障、攻擊和配置錯誤方面，一直以來都極難做到可驗證的強健與安全。隨著 5G 時代的來臨，從門鈴到自動駕駛汽車等萬物都將連網，這使得網路配置與安全的風險急遽升高，遠超過以往任何時候。

#### **1.1 挑戰與目標**
*   **根本挑戰**：傳統網路大多建立在封閉、專有的軟體與複雜的固定功能硬體之上，其正確性難以證明，設計來源也往往不明。同時，像 BGP 這樣的分散式演算法，其故障模式的複雜性讓研究人員和工程師們困擾了數十年。
*   **核心目標：可驗證性 (Verifiability)**：確保網路中的**每一個封包**都遵循營運商指定的路徑，並且在每一台設備中只會遇到營運商所預期的轉發規則——不多也不少。

#### **1.2 SDN 如何實現可驗證性**
歷史經驗表明，驗證在**組合式 (compositional) 或解構式 (disaggregated)** 的系統中效果最好。能夠對小組件進行獨立推理，使得驗證變得易於處理。SDN 的核心價值恰好與此完美契合，為實現**可驗證的閉迴路控制 (verifiable closed-loop control)** 帶來了希望。

*   **SDN 的三大基石**：
    1.  **解構 (Disaggregation)**：這是實現可驗證性的基礎。
    2.  **在網路層級陳述意圖 (State Intent at the Network Level)**：營運商能以全域視角定義期望的網路行為，而非逐台設備進行配置。
    3.  **細粒度的即時行為觀察 (Observe Behavior at Fine Granularity)**：能夠即時監控網路的實際運行狀態。

*   **閉迴路控制架構**：
    *   這個架構在本書描述的 SDN 軟體堆疊之上，增加了測量、程式碼生成與驗證元件。
    *   **測量**：使用 **INT (In-band Network Telemetry)** 等技術，讓每個封包在穿越轉發元件時被「蓋上戳記」，記錄其所經過的路徑、經歷的佇列延遲、以及匹配的規則。
    *   **分析與反饋**：這些細粒度的測量數據被分析後，反饋給程式碼生成與形式化驗證工具，從而形成一個閉迴路。
    *   **互補價值**：這個閉迴路控制與解構本身的價值相輔相成，使得實現「**建構即正確 (correctness-by-construction)**」成為可能。
 
![](https://sdn.systemsapproach.org/_images/Slide30.png) INT generates fine-grain measurements, which in turn feed a closed control loop that verifies the network’s behavior.

#### **1.3 自上而下的驗證方法與兩大關鍵洞見**
本章提出的驗證方法，類似於晶片設計的流程：從高階的行為模型，到暫存器傳輸級的 Verilog/VHDL 模型，最終到電晶體層級，並在每一層的抽象邊界進行形式化驗證。SDN 的新介面與抽象，將這種自上而下的設計驗證方法延伸至了網路領域，一路貫穿到交換晶片的可程式化轉發管線。

這種方法之所以可行，基於以下兩大關鍵洞見：

1.  **P4 資料平面是網路的「地面實況 (Ground Truth)」**
    *   儘管網路控制平面本質上很複雜，但 P4 定義的資料平面精確地描述了網路**如何**轉發封包，因此是部署驗證技術的絕佳平台。
    *   透過直接在資料層級觀察與驗證行為，可以大幅**減少可信計算基礎 (trusted computing base)**，我們不再需要信任交換器作業系統、驅動程式等低階元件。
    *   資料平面本質上比控制平面簡單：它最終被編譯成高效的前饋式管線架構，狀態有限，資料類型簡單。這使得資料平面的驗證不僅強大而且**務實可行 (practical)**。
    *   這種務實性建立在現有技術之上，如 Veriflow 和 Header Space Analysis (HSA)，它們證明了只要轉發行為是固定的，僅憑轉發表的狀態就足以驗證網路行為。P4 只是增加了一個新的自由度：允許營運商用 P4 程式化地定義與演進轉發行為。P4 語言本身也為此進行了設計，刻意排除了迴圈、指標等會讓分析變得不切實際的特性。

2.  **從高階意圖到「建構即正確」的控制平面**
    *   傳統的網路驗證方法，是為現有的、複雜的分散式控制平面（如 BGP）建立數學模型，但如果現實與模型不符，驗證就會失效。
    *   SDN 的集中式控制模型則從根本上改變了這一點。控制平面的設計目標就是將一個集中指定的請求，映射為一組可在資料平面實現的控制指令。
    *   我們正開始看到，SDN 控制平面本身也能從一個描述其期望屬性的高階規範中**編譯**而來。這讓我們有希望看到**建構即正確 (correct by construction)** 的控制平面，而不是去為那些歷史上難以分析的系統建立模型。

#### **1.4 SDN 的歷史脈絡與第三階段**
將這一切置於歷史脈絡中（如圖 61 / 41 所示），SDN 的演進可分為三個階段：
*   **第一階段**：營運商透過解構控制平面，掌握了軟體的控制權。
*   **第二階段（當前）**：最先進的營運商透過 P4 可程式化資料平面，掌握了封包處理的控制權。
*   **第三階段（未來）**：**可驗證的閉迴路控制**將賦予網路營運商對其網路定義軟體的完全所有權。他們不僅能用軟體決定網路行為，更能**證明**網路正在忠實地執行其意圖。

### 2. 核心主題二：軟體定義無線接取網路 (SD-RAN)

5G 的真正潛力不僅是頻寬提升，更是從單一的寬頻連接服務，轉變為支持 AR/VR、自動駕駛、物聯網等豐富邊緣服務的平台。要實現這一願景，就必須將 SDN 原則應用於 RAN，以提升**功能演進速度 (feature velocity)**。

#### **2.1 核心理念：從本地決策到全域優化**
*   **RAN 即封包轉發器**：SD-RAN 的核心是將組成 RAN 的基地台視為專用的封包轉發器。
*   **轉變問題**：將目前基地台之間基於本地資訊的分散式決策（如換手、負載平衡、鏈路聚合），轉變為一個**全域優化問題 (global optimization problem)**。
*   **SDN 運作模式**：
    1.  每個基地台向一個中央 SDN 控制器（即 **RIC, RAN Intelligent Controller**）回報本地收集的無線傳輸品質統計數據。
    2.  RIC 綜合來自多個基地台的資訊，建構出無線頻譜利用的**全域視圖**。
    3.  一系列控制應用程式 (xApps) 基於此全域視圖做出最佳決策，並將控制指令推送回基地台。
    4.  這是一個**近乎即時 (near real-time)** 的控制迴路，時間尺度在 10 毫秒以內。

#### **2.2 基於 ONOS 的 RIC 架構**
這個設想已經在實踐中，ONOS 正在被改造以支持 SD-RAN 的使用案例（如圖 42 所示）。
*   **沿用現有架構**：新的架構很大程度上建立在現有的 ONOS 架構之上，例如，它利用了既有的**拓撲服務 (Topology Service)**。
*   **引入新服務**：
    *   **控制服務 (Control Service)**：基於 Atomix 鍵/值存儲，管理所有基地台和用戶設備的控制狀態。
    *   **遙測服務 (Telemetry Service)**：基於**時間序列資料庫 (TSDB)**，追蹤 RAN 元件回報的鏈路品質資訊。
*   **採用標準化介面**：ONOS 採納了 3GPP 和 O-RAN 聯盟的術語與介面標準，例如將 NOS 稱為 RIC，並支持 A1、E2、C1 等標準介面。

總結來說，本章節描繪了 SDN 的未來藍圖。它不僅僅是對現有網路功能的改進，更是透過**可驗證性**與**軟體定義 RAN** 等全新能力，從根本上提升網路的可靠性、安全性與創新速度，最終賦予網路擁有者對其基礎設施前所未有的控制力與信心。
